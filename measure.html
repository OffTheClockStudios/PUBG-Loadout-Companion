<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PUBG Mortar Meter Helper — Minimal</title>
  <p><a href="index.html" class="btn">Open Weapon Loadout Page</a></p>
  <style>
    :root { --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#3b82f6; }
    * { box-sizing: border-box; }
    body {font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Noto Sans', sans-serif; background: var(--bg); color: var(--text); margin: 0;}
    .wrap { max-width: 720px; margin: 24px auto; padding: 24px; }
    h1 {font-size: 1.8rem; margin: 0 0 8px; text-align:center}
    p.lead { color: var(--muted); margin: 0 0 18px; text-align:center }
    .card { background: var(--panel); border: 1px solid #1f2937; border-radius: 12px; padding: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.25); }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
    label { display:block; font-weight:600; margin: 6px 0 6px; }
    input[type="number"] { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid #243244; background: #0b1220; color: var(--text); }
    .row { display:flex; gap:10px; align-items:center; flex-wrap: wrap; }
    .btn { appearance:none; border:1px solid #1f2937; background:#0b1220; color:var(--text); padding:8px 12px; border-radius:8px; cursor:pointer; }
    .btn.primary { background: var(--accent); border-color: transparent; }
    .result { font-size: 1.6rem; font-weight: 700; letter-spacing:.4px; }
    .muted { color: var(--muted); font-size:.92rem; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>PUBG Mortar Meter Helper — Minimal</h1>
    <p class="lead">Hard-coded max flat range: <strong>700 m</strong>. Convert ruler cm → in-game meters to get accurate planar distance for your mortar setups.</p>

    <div class="card">
      <div class="grid">
        <div>
          <label for="refCm">How many cm = <strong>100 m</strong> on your map?</label>
          <input id="refCm" type="number" min="0.01" step="0.01" value="4.5" />
          <div class="muted">Example: one 100 m grid cell might be 4.5 cm on your printout.</div>
        </div>
        <div>
          <label for="targetCm">Measured map length to target (cm)</label>
          <input id="targetCm" type="number" min="0" step="0.01" value="17.5" />
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <button class="btn primary" id="calcBtn">Compute</button>
        <button class="btn" id="resetBtn">Reset</button>
      </div>
    </div>

    <div class="card" style="margin-top:16px">
      <div style="display:flex;justify-content:space-between;align-items:flex-end">
        <div>
          <div class="muted">Planar (map) distance</div>
          <div class="result" id="resultMeters">— m</div>
        </div>
        <div style="text-align:right">
          <div class="muted">Formula</div>
          <div id="formulaText" class="muted">D = 100 × (L_target / L_ref)</div>
        </div>
      </div>
      <div id="explain" class="muted" style="margin-top:8px"></div>
    </div>

    <div class="card" style="margin-top:16px">
      <details>
        <summary><strong>Math notes</strong></summary>
        <p class="muted">This tool simply converts ruler distance to in-game meters. Mortar trajectory uses ballistic equations with v₀ inferred from max flat range (700 m). For elevation corrections, use field testing to chart your own falloff curve.</p>
      </details>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    function computePlanarDistanceMeters(refCm, targetCm) {
      if (!(refCm > 0) || !(targetCm >= 0)) return NaN;
      return 100 * (targetCm / refCm);
    }

    function fmt(n, digits = 1) {
      return isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—';
    }

    function calculate() {
      const refCm = parseFloat($("refCm").value);
      const targetCm = parseFloat($("targetCm").value);
      const D = computePlanarDistanceMeters(refCm, targetCm);

      $("resultMeters").textContent = `${fmt(D, 1)} m`;
      $("formulaText").textContent = `D = 100 × (${isFinite(targetCm)?targetCm:'—'} / ${isFinite(refCm)?refCm:'—'}) = ${fmt(D,1)} m`;
      $("explain").textContent = isFinite(D)
        ? `Scale: 1 cm ≈ ${fmt(100 / refCm, 2)} m; measured ${fmt(targetCm,2)} cm.`
        : 'Please enter valid positive numbers.';
    }

    $("calcBtn").addEventListener('click', calculate);
    $("resetBtn").addEventListener('click', () => { $("refCm").value = 4.5; $("targetCm").value = 17.5; calculate(); });
    calculate();
  </script>
</body>
</html>
